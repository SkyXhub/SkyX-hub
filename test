--[[
    ðŸŒŠ SkyX Hub - Mobile UI Demo ðŸŒŠ
    
    This demo showcases the mobile-friendly features of the SkyXOrion UI Library
    
    Key Features:
    - Swipe gestures between tabs
    - Larger touch targets for mobile users
    - Smooth animations optimized for mobile
    - Auto-sizing based on device screen size
    - Haptic feedback on supported devices
    - Ocean-themed visual style
]]

-- Check if running in a Roblox environment
if not game then
    print("Not running in proper Roblox environment")
    print("This script should only be executed in a Roblox game environment")
    return
end

-- Set up mock environment for testing
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
local Humanoid = Character:FindFirstChild("Humanoid")
local HumanoidRootPart = Character:FindFirstChild("HumanoidRootPart")

-- Load our enhanced SkyXOrion UI
local SkyXOrion = {}

local success, result = pcall(function()
    -- Load the official SkyX UI Library from GitHub
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/SkyXhub/SkyX-hub/refs/heads/main/SkyX%20UI%20Library.lua"))()
    
    -- Fallback to local version if GitHub version fails
    -- if isfile and isfile("SkyXOrion.lua") then
    --     return loadstring(readfile("SkyXOrion.lua"))()
    -- else
    --     -- Fallback to the original Orion if our enhanced version isn't available
    --     return loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
    -- end
end)

if success then
    SkyXOrion = result
else
    -- If loading fails, use a fallback
    SkyXOrion = loadstring(game:HttpGet(('https://raw.githubusercontent.com/shlexware/Orion/main/source')))()
    warn("Could not load SkyXOrion, using original Orion instead")
end

-- Create a window with our mobile-optimized UI
local Window = SkyXOrion:MakeWindow({
    Name = "ðŸŒŠ SkyX Mobile Demo ðŸŒŠ",
    HidePremium = false,
    SaveConfig = false,
    ConfigFolder = "SkyXDemo",
    IntroEnabled = true,
    IntroText = "SkyX Mobile UI Demo",
    IntroIcon = "rbxassetid://10618644218",
    Icon = "rbxassetid://10618644218"
})

-- Create multiple tabs to demonstrate swipe feature
local HomeTab = Window:MakeTab({
    Name = "Home",
    Icon = "home",
    PremiumOnly = false
})

local WeaponsTab = Window:MakeTab({
    Name = "Weapons",
    Icon = "sword",
    PremiumOnly = false
})

local FarmingTab = Window:MakeTab({
    Name = "Farming",
    Icon = "tree",
    PremiumOnly = false
})

local TeleportTab = Window:MakeTab({
    Name = "Teleport",
    Icon = "map-pin",
    PremiumOnly = false
})

local SettingsTab = Window:MakeTab({
    Name = "Settings",
    Icon = "settings",
    PremiumOnly = false
})

-- Add content to Home Tab
local WelcomeSection = HomeTab:AddSection({
    Name = "Welcome"
})

WelcomeSection:AddLabel({
    Name = "ðŸ‘‹ Welcome to SkyX Mobile UI Demo!"
})

WelcomeSection:AddLabel({
    Name = "Try swiping left/right to change tabs"
})

local DeviceInfoSection = HomeTab:AddSection({
    Name = "Device Information"
})

DeviceInfoSection:AddButton({
    Name = "Check Device Type",
    Callback = function()
        local UserInputService = game:GetService("UserInputService")
        local isMobile = UserInputService.TouchEnabled and not UserInputService.MouseEnabled
        
        SkyXOrion:MakeNotification({
            Name = "Device Info",
            Content = "You are using a " .. (isMobile and "Mobile" or "PC") .. " device",
            Image = "rbxassetid://4483345998",
            Time = 5
        })
    end
})

DeviceInfoSection:AddButton({
    Name = "Show Screen Size",
    Callback = function()
        local viewportSize = workspace.CurrentCamera.ViewportSize
        
        SkyXOrion:MakeNotification({
            Name = "Screen Info",
            Content = "Size: " .. viewportSize.X .. " x " .. viewportSize.Y,
            Image = "rbxassetid://4483345998",
            Time = 5
        })
    end
})

-- Add content to Weapons Tab
local WeaponsSection = WeaponsTab:AddSection({
    Name = "Test Mobile Touch Controls"
})

-- Demonstrate large touch targets for toggles
local godModeEnabled = false
WeaponsSection:AddToggle({
    Name = "God Mode",
    Default = false,
    Callback = function(Value)
        godModeEnabled = Value
        
        SkyXOrion:MakeNotification({
            Name = "God Mode",
            Content = Value and "God Mode enabled" or "God Mode disabled",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
        
        -- In a real script, you'd apply god mode here
        if Humanoid then
            task.spawn(function()
                while godModeEnabled and Humanoid do
                    Humanoid.Health = Humanoid.MaxHealth
                    task.wait(0.1)
                end
            end)
        end
    end
})

-- Demonstrate buttons with haptic feedback
WeaponsSection:AddButton({
    Name = "Give All Weapons",
    Callback = function()
        SkyXOrion:MakeNotification({
            Name = "Weapons",
            Content = "All weapons added to inventory!",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
    end
})

WeaponsSection:AddButton({
    Name = "Infinite Ammo",
    Callback = function()
        SkyXOrion:MakeNotification({
            Name = "Ammo",
            Content = "Infinite ammo enabled!",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
    end
})

-- Demonstrate sliders with larger touch targets
WeaponsSection:AddSlider({
    Name = "Weapon Damage",
    Min = 1,
    Max = 100,
    Default = 50,
    Color = Color3.fromRGB(42, 95, 145),
    Increment = 1,
    ValueName = "x",
    Callback = function(Value)
        SkyXOrion:MakeNotification({
            Name = "Damage",
            Content = "Damage set to " .. Value .. "x",
            Image = "rbxassetid://4483345998",
            Time = 1
        })
    end    
})

-- Add content to Farming Tab
local AutoFarmSection = FarmingTab:AddSection({
    Name = "Auto Farm Features"
})

-- Demonstrate toggles with mobile-friendly tap areas
AutoFarmSection:AddToggle({
    Name = "Auto Farm",
    Default = false,
    Callback = function(Value)
        SkyXOrion:MakeNotification({
            Name = "Auto Farm",
            Content = Value and "Auto farming enabled" or "Auto farming disabled",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
    end
})

AutoFarmSection:AddToggle({
    Name = "Auto Collect Items",
    Default = false,
    Callback = function(Value)
        SkyXOrion:MakeNotification({
            Name = "Items",
            Content = Value and "Auto collect enabled" or "Auto collect disabled",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
    end
})

-- Demonstrate large buttons that are easy to tap
AutoFarmSection:AddButton({
    Name = "Collect All Nearby Items",
    Callback = function()
        SkyXOrion:MakeNotification({
            Name = "Items",
            Content = "Collected all nearby items!",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
    end
})

local FarmSettingsSection = FarmingTab:AddSection({
    Name = "Farm Settings"
})

-- Show a slider with larger touch area
FarmSettingsSection:AddSlider({
    Name = "Farm Radius",
    Min = 10,
    Max = 100,
    Default = 50,
    Color = Color3.fromRGB(42, 95, 145),
    Increment = 5,
    ValueName = "studs",
    Callback = function(Value)
        SkyXOrion:MakeNotification({
            Name = "Farm Radius",
            Content = "Set to " .. Value .. " studs",
            Image = "rbxassetid://4483345998",
            Time = 1
        })
    end    
})

-- Add content to Teleport Tab
local TeleportSection = TeleportTab:AddSection({
    Name = "Teleport Locations"
})

-- Add teleport buttons with nice spacing for mobile taps
TeleportSection:AddButton({
    Name = "Teleport to Spawn",
    Callback = function()
        SkyXOrion:MakeNotification({
            Name = "Teleport",
            Content = "Teleported to Spawn",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
        
        -- In a real script you'd teleport the player
        if HumanoidRootPart then
            task.spawn(function()
                local spawnPos = workspace:FindFirstChild("SpawnLocation")
                if spawnPos then
                    HumanoidRootPart.CFrame = spawnPos.CFrame + Vector3.new(0, 5, 0)
                end
            end)
        end
    end
})

TeleportSection:AddButton({
    Name = "Teleport to Shop",
    Callback = function()
        SkyXOrion:MakeNotification({
            Name = "Teleport",
            Content = "Teleported to Shop",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
    end
})

TeleportSection:AddButton({
    Name = "Teleport to Boss Arena",
    Callback = function()
        SkyXOrion:MakeNotification({
            Name = "Teleport",
            Content = "Teleported to Boss Arena",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
    end
})

-- Add content to Settings Tab to demonstrate UI themes
local ThemeSection = SettingsTab:AddSection({
    Name = "UI Themes"
})

-- Add theme buttons
ThemeSection:AddButton({
    Name = "Ocean Theme",
    Callback = function()
        if SkyXOrion.SelectedTheme and SkyXOrion.SetTheme then
            SkyXOrion.SelectedTheme = "Ocean"
            SkyXOrion:SetTheme()
        end
        
        SkyXOrion:MakeNotification({
            Name = "Theme",
            Content = "Changed to Ocean theme",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
    end
})

ThemeSection:AddButton({
    Name = "Midnight Theme",
    Callback = function()
        if SkyXOrion.SelectedTheme and SkyXOrion.SetTheme then
            SkyXOrion.SelectedTheme = "Midnight"
            SkyXOrion:SetTheme()
        end
        
        SkyXOrion:MakeNotification({
            Name = "Theme",
            Content = "Changed to Midnight theme",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
    end
})

ThemeSection:AddButton({
    Name = "Default Theme",
    Callback = function()
        if SkyXOrion.SelectedTheme and SkyXOrion.SetTheme then
            SkyXOrion.SelectedTheme = "Default"
            SkyXOrion:SetTheme()
        end
        
        SkyXOrion:MakeNotification({
            Name = "Theme",
            Content = "Changed to Default theme",
            Image = "rbxassetid://4483345998",
            Time = 3
        })
    end
})

local InfoSection = SettingsTab:AddSection({
    Name = "Mobile UI Demo Information"
})

InfoSection:AddLabel({
    Name = "SkyX Hub - Mobile UI Demo"
})

InfoSection:AddLabel({
    Name = "Enhanced features for mobile devices:"
})

InfoSection:AddLabel({
    Name = "â€¢ Swipe to navigate between tabs"
})

InfoSection:AddLabel({
    Name = "â€¢ Double-tap to center UI"
})

InfoSection:AddLabel({
    Name = "â€¢ Larger touch targets for all elements"
})

InfoSection:AddLabel({
    Name = "â€¢ Optimized performance for mobile"
})

-- Show a welcome notification when the script is loaded
SkyXOrion:MakeNotification({
    Name = "Mobile UI Demo Loaded",
    Content = "Swipe between tabs to try the mobile features!",
    Image = "rbxassetid://10618644218",
    Time = 5
})

-- Show additional tip about double-tap feature
SkyXOrion:MakeNotification({
    Name = "Mobile Tip",
    Content = "Double-tap the top bar to center the UI!",
    Image = "rbxassetid://4483345998",
    Time = 5
})
